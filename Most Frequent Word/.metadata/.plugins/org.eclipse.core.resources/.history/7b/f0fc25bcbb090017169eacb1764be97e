import java.util.*;
import edu.duke.*;

public class CharactersInPlay {
	private ArrayList<String> people;
	private ArrayList<Integer> count;
	
	public CharactersInPlay(){
		people = new ArrayList<String>();
		count = new ArrayList<Integer>();
	}
	
	public void update(String person){ 
		int idx = people.indexOf(person);
		if(idx == -1){ //first time recording
			people.add(person); 
			count.add(1); //should matches the index of people
		}else{
			count.set(people.indexOf(person), count.get(people.indexOf(person)) + 1);
		}
	}
	
	public void findAllCharacters(){
		people.clear(); //refresh
		count.clear(); //refresh
		FileResource fr = new FileResource();
		for(String line:fr.lines()){
			int idx = line.indexOf(",");
			String temp = line.substring(0,idx); //excluding ,
			update(temp);
		}
	}
	
	public void tester(){
		//only print main character ( estimate it by yourself) 
		findAllCharacters();
		System.out.println("The main characters are: ");
		for(int i = 0 ; i < people.size(); i ++){
			if(count.indexOf(i) >= 3){ //main character
				System.out.println(people.indexOf(i) + "\t" + count.indexOf(i));
			}
		}
	}
}
