import java.util.ArrayList;
import java.util.Collections;

public class MovieRunnerWithFilters {
	
	
	
	
	public void printAverageRatings (){
		// ratings_short.csv and ratedmovies_short.csv
		ThirdRatings sr = new ThirdRatings("ratings.csv");
		System.out.println(sr.getRaterSize() + " raters loaded");
		//can have parameter for the constructor
		MovieDatabase mdb = new MovieDatabase();
		//since MovieDatabase's size method is static, use MovieDatabase instead of mdb
		//static means all instance of MovieDatabase are calling the exact same method
		System.out.println(MovieDatabase.size() + " movies loaded");
		//call getAverageRatings to get every movie
		//print in ascending order 
		//use compareTo , Rating implements Comparable
		int min = 12;
		ArrayList<Rating> sorted = sr.getAverageRatings(min);
		//use Collections.sort for AraayList, to call compareTo of the method which implements Comparable
		Collections.sort(sorted);
		for(Rating r: sorted){
			System.out.println(r.getValue() + "   " + MovieDatabase.getTitle(r.getItem ()));
		}
		System.out.println("There are " +  sorted.size() + " movies with at least " + min + " ratings");
	}
	
	
	
	
}
